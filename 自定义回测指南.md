# 🎉 自定义股票/加密货币回测功能 - 使用指南

## 📅 更新日期：2026-02-12

## ✨ 新功能概述

现在你可以：
- ✅ **输入任意股票代码**进行回测（不再局限于预设的几只股票）
- ✅ **输入任意加密货币**进行回测
- ✅ **混合选择**快速选择和自定义输入
- ✅ **多资产组合**回测（支持多只股票或多个加密货币）

---

## 🚀 使用步骤

### 步骤 1：选择资产类型

在左侧边栏找到 **"Asset Type / 资产类型"** 选项：
- 📈 **Stock / 股票**：测试股票策略
- ₿ **Crypto / 加密货币**：测试加密货币策略

### 步骤 2：选择或输入资产

#### 方式 A：快速选择（推荐新手）

**股票快速选择**：
- 从热门股票列表中选择：AAPL, GOOGL, MSFT, TSLA, AMZN, NVDA, META, NFLX, JPM, V, WMT, DIS, BABA, TSM
- 可以多选

**加密货币快速选择**：
- 从热门加密货币列表中选择：Bitcoin, Ethereum, Binance Coin, Solana, Cardano, XRP, Dogecoin, Polkadot
- 可以多选

#### 方式 B：自定义输入（支持任意资产）

**输入股票代码**：
1. 在 "Custom Input / 自定义输入" 文本框中输入股票代码
2. 多个股票用**逗号**分隔
3. 示例：`AAPL, GOOGL, MSFT` 或 `BABA, JD, PDD`

**输入加密货币 ID**：
1. 在 "Custom Input / 自定义输入" 文本框中输入 CoinGecko ID
2. 多个加密货币用**逗号**分隔
3. 示例：`bitcoin, ethereum, solana`

> 💡 **如何找到 CoinGecko ID？**
> - 访问 [coingecko.com](https://www.coingecko.com)
> - 搜索你想要的加密货币
> - URL 中的名称就是 ID（例如：bitcoin, ethereum, cardano）

#### 方式 C：混合使用

你可以同时使用快速选择和自定义输入：
- 快速选择：AAPL, GOOGL
- 自定义输入：BABA, TSM
- 最终结果：AAPL, GOOGL, BABA, TSM

### 步骤 3：设置其他参数

1. **日期范围**：选择回测的开始和结束日期
2. **策略**：选择交易策略
   - Momentum Strategy（动量策略）
   - Value Strategy（价值策略）
   - Mean Reversion（均值回归）
   - Custom（自定义）
3. **初始资金**：设置初始投资金额

### 步骤 4：运行回测

1. 切换到 **"Performance Analysis"** 标签页
2. 查看顶部显示的当前参数（确认选择正确）
3. 点击 **"🚀 Run Backtest"** 按钮
4. 等待数据加载和计算（5-15 秒）
5. 查看结果

---

## 📊 支持的资产示例

### 美股示例
```
科技股：AAPL, GOOGL, MSFT, NVDA, META, TSLA
金融股：JPM, BAC, GS, MS, C
消费股：WMT, AMZN, HD, NKE, SBUX
中概股：BABA, JD, PDD, BIDU, NIO
```

### 加密货币示例
```
主流币：bitcoin, ethereum, binancecoin
DeFi：uniswap, aave, compound
Layer1：solana, cardano, polkadot, avalanche-2
Meme币：dogecoin, shiba-inu
```

---

## 🎯 使用场景

### 场景 1：测试单只股票
- 资产类型：Stock
- 快速选择：AAPL
- 策略：Momentum Strategy
- 日期：2023-01-01 至 2024-01-01

### 场景 2：测试科技股组合
- 资产类型：Stock
- 自定义输入：`AAPL, GOOGL, MSFT, NVDA, META`
- 策略：Value Strategy
- 日期：最近 1 年

### 场景 3：测试加密货币
- 资产类型：Crypto
- 快速选择：Bitcoin, Ethereum
- 策略：Mean Reversion
- 日期：最近 6 个月

### 场景 4：测试中概股
- 资产类型：Stock
- 自定义输入：`BABA, JD, PDD, BIDU`
- 策略：Momentum Strategy
- 日期：2023-01-01 至 2024-01-01

### 场景 5：测试 DeFi 组合
- 资产类型：Crypto
- 自定义输入：`uniswap, aave, compound, curve-dao-token`
- 策略：Custom
- 日期：最近 3 个月

---

## ⚠️ 注意事项

### 股票代码规范
- ✅ 使用正确的股票代码（如 AAPL，不是 Apple）
- ✅ 美股代码直接输入（如 AAPL, GOOGL）
- ✅ 港股需要加后缀（如 0700.HK）
- ✅ A股需要加后缀（如 600519.SS）

### 加密货币 ID 规范
- ✅ 使用 CoinGecko 的标准 ID（全小写）
- ✅ 多个单词用连字符连接（如 binance-coin）
- ❌ 不要使用交易符号（如 BTC、ETH）
- ✅ 正确示例：bitcoin, ethereum, binancecoin
- ❌ 错误示例：BTC, ETH, BNB

### 数据获取
- 📡 需要稳定的网络连接
- ⏱️ 首次获取数据可能需要 10-15 秒
- 🔄 如果失败，检查代码/ID 是否正确
- 📊 Yahoo Finance 数据有 15-20 分钟延迟

### 日期范围
- ✅ 不要选择未来日期
- ✅ 建议至少选择 30 天以上
- ✅ 加密货币历史数据较短（通常 2-5 年）
- ✅ 股票历史数据较长（可达 10+ 年）

---

## 🔧 故障排除

### 问题 1：无法获取数据
**可能原因**：
- 股票代码/加密货币 ID 错误
- 网络连接问题
- 日期范围不合理

**解决方法**：
1. 检查代码/ID 拼写
2. 尝试使用快速选择
3. 检查网络连接
4. 缩短日期范围

### 问题 2：计算结果异常
**可能原因**：
- 数据不足
- 策略参数不合理

**解决方法**：
1. 增加日期范围
2. 更换策略
3. 检查是否有停牌或退市

### 问题 3：加载时间过长
**可能原因**：
- 选择了太多资产
- 日期范围太长
- 网络速度慢

**解决方法**：
1. 减少资产数量（建议 ≤ 5 个）
2. 缩短日期范围
3. 检查网络速度

---

## 📈 高级技巧

### 技巧 1：行业对比
选择同行业的多只股票，对比不同策略的表现：
```
科技行业：AAPL, GOOGL, MSFT, NVDA
金融行业：JPM, BAC, GS, C
```

### 技巧 2：市值对比
选择不同市值的股票，测试策略适用性：
```
大盘股：AAPL, MSFT, GOOGL
中盘股：SNAP, PINS, TWLO
小盘股：CRWD, ZS, DDOG
```

### 技巧 3：加密货币类型对比
```
Layer1：bitcoin, ethereum, solana, cardano
DeFi：uniswap, aave, compound
稳定币：tether, usd-coin, dai
```

### 技巧 4：地区对比
```
美股：AAPL, GOOGL, MSFT
中概股：BABA, JD, PDD
港股：0700.HK, 9988.HK
```

---

## 🎓 学习建议

1. **从单只资产开始**：先熟悉系统操作
2. **对比不同策略**：同一资产测试不同策略
3. **测试组合效果**：多只资产的分散效果
4. **关注风险指标**：不只看收益，更要看回撤和夏普比率
5. **记录测试结果**：建立自己的策略库

---

## 📞 获取帮助

如果遇到问题：
1. 查看控制台错误信息
2. 检查参数设置
3. 尝试使用快速选择
4. 查看 `更新说明.md` 了解更多细节

---

**祝你回测愉快！📈**
