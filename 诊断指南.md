# ğŸ” åŠ å¯†è´§å¸æ•°æ®é—®é¢˜è¯Šæ–­æŒ‡å—

## é—®é¢˜ç°è±¡

```
âš ï¸ Warning: bitcoin - Returned data is empty
âŒ Error: Unable to fetch any data
```

## è¯Šæ–­æ­¥éª¤

### æ­¥éª¤ 1: ä½¿ç”¨æµ‹è¯•é¡µé¢

æˆ‘åˆ›å»ºäº†ä¸€ä¸ªä¸“é—¨çš„æµ‹è¯•é¡µé¢æ¥è¯Šæ–­é—®é¢˜ã€‚

**å¯åŠ¨æµ‹è¯•é¡µé¢ï¼š**
```bash
# æ–¹å¼ 1: åŒå‡»è¿è¡Œ
æµ‹è¯•åŠ å¯†è´§å¸.bat

# æ–¹å¼ 2: å‘½ä»¤è¡Œè¿è¡Œ
cd D:\sheldonproject\QuantMuse1
python -m streamlit run test_crypto_page.py --server.port 8502
```

**æµ‹è¯•é¡µé¢åŠŸèƒ½ï¼š**
- ç›´æ¥æµ‹è¯• LiveDataFetcher
- æ˜¾ç¤ºè¯¦ç»†çš„æ•°æ®ä¿¡æ¯
- æ˜¾ç¤ºå®Œæ•´çš„é”™è¯¯å †æ ˆ
- å¯è§†åŒ–ä»·æ ¼èµ°åŠ¿

**åœ¨æµ‹è¯•é¡µé¢ä¸­ï¼š**
1. è¾“å…¥ `bitcoin`
2. è®¾ç½®å¤©æ•°ä¸º `30`
3. ç‚¹å‡» "è·å–æ•°æ®"
4. æŸ¥çœ‹ç»“æœ

### æ­¥éª¤ 2: æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—

é‡æ–°å¯åŠ¨ä¸»ä»ªè¡¨æ¿ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼š

```bash
cd D:\sheldonproject\QuantMuse1
python run_dashboard.py
```

**æŸ¥æ‰¾ä»¥ä¸‹æ—¥å¿—ï¼š**
```
Live data fetcher initialized successfully
use_live_data: True, live_fetcher: True
Fetching crypto data for bitcoin, days=30
API response keys: dict_keys(['prices', 'market_caps', 'total_volumes'])
Prices data points: 721
Successfully fetched 721 rows for bitcoin
```

### æ­¥éª¤ 3: æ‰‹åŠ¨æµ‹è¯• API

åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œï¼š

```bash
cd D:\sheldonproject\QuantMuse1
python -c "
from data_service.fetchers.live_data import LiveDataFetcher
import logging

logging.basicConfig(level=logging.INFO)

fetcher = LiveDataFetcher()
data = fetcher.get_crypto_history('bitcoin', days=30)

print(f'Empty: {data.empty}')
print(f'Shape: {data.shape}')
if not data.empty:
    print(f'Columns: {data.columns.tolist()}')
    print(f'First 3 rows:')
    print(data.head(3))
"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
INFO:__main__:Fetching crypto history for bitcoin, days=30
INFO:__main__:API response keys: dict_keys(['prices', 'market_caps', 'total_volumes'])
INFO:__main__:Prices data points: 721
INFO:__main__:Successfully fetched 721 rows for bitcoin
Empty: False
Shape: (721, 6)
Columns: ['price', 'close', 'open', 'high', 'low', 'volume']
```

## å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜ A: LiveDataFetcher åˆå§‹åŒ–å¤±è´¥

**ç—‡çŠ¶ï¼š**
```
Data source: Sample data
```

**åŸå› ï¼š**
- pycoingecko æœªå®‰è£…
- å¯¼å…¥é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
pip install pycoingecko
pip install --upgrade pycoingecko
```

### é—®é¢˜ B: CoinGecko API é™åˆ¶

**ç—‡çŠ¶ï¼š**
```
Error: 429 Too Many Requests
```

**åŸå› ï¼š**
- å…è´¹ API æœ‰é€Ÿç‡é™åˆ¶
- çŸ­æ—¶é—´å†…è¯·æ±‚è¿‡å¤š

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç­‰å¾… 5-10 åˆ†é’Ÿ
2. å‡å°‘è¯·æ±‚é¢‘ç‡
3. è€ƒè™‘ä½¿ç”¨ CoinGecko Pro API

### é—®é¢˜ C: ç½‘ç»œè¿æ¥é—®é¢˜

**ç—‡çŠ¶ï¼š**
```
Error: Connection timeout
Error: Unable to reach coingecko.com
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. å°è¯•ä½¿ç”¨ VPN
4. æ£€æŸ¥ DNS è®¾ç½®

### é—®é¢˜ D: åŠ å¯†è´§å¸ ID é”™è¯¯

**ç—‡çŠ¶ï¼š**
```
Error: Coin not found
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. è®¿é—® https://www.coingecko.com
2. æœç´¢åŠ å¯†è´§å¸
3. ä» URL ä¸­è·å–æ­£ç¡®çš„ ID
4. ä½¿ç”¨å°å†™å­—æ¯
5. å¤šä¸ªå•è¯ç”¨è¿å­—ç¬¦è¿æ¥

**å¸¸ç”¨ IDï¼š**
- bitcoin (ä¸æ˜¯ BTC)
- ethereum (ä¸æ˜¯ ETH)
- binancecoin (ä¸æ˜¯ BNB)
- solana (ä¸æ˜¯ SOL)

### é—®é¢˜ E: æ—¥æœŸèŒƒå›´é—®é¢˜

**ç—‡çŠ¶ï¼š**
æ•°æ®ä¸ºç©ºï¼Œä½†æ²¡æœ‰é”™è¯¯

**åŸå› ï¼š**
- æ—¥æœŸè®¡ç®—é”™è¯¯
- å¤©æ•°ä¸º 0 æˆ–è´Ÿæ•°

**è§£å†³æ–¹æ¡ˆï¼š**
æ£€æŸ¥æ—¥æœŸé€‰æ‹©å™¨çš„å€¼

## è°ƒè¯•æ£€æŸ¥æ¸…å•

- [ ] pycoingecko å·²å®‰è£…
- [ ] LiveDataFetcher åˆå§‹åŒ–æˆåŠŸ
- [ ] use_live_data = True
- [ ] ç½‘ç»œè¿æ¥æ­£å¸¸
- [ ] å¯ä»¥è®¿é—® coingecko.com
- [ ] åŠ å¯†è´§å¸ ID æ­£ç¡®
- [ ] æ—¥æœŸèŒƒå›´åˆç†ï¼ˆ1-365 å¤©ï¼‰
- [ ] æ²¡æœ‰ API é€Ÿç‡é™åˆ¶
- [ ] æ§åˆ¶å°æ²¡æœ‰é”™è¯¯æ—¥å¿—

## è·å–å¸®åŠ©

å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·æä¾›ï¼š

1. **æµ‹è¯•é¡µé¢çš„è¾“å‡º**
   - æˆªå›¾æˆ–å¤åˆ¶å®Œæ•´è¾“å‡º

2. **æ§åˆ¶å°æ—¥å¿—**
   - ä»å¯åŠ¨åˆ°é”™è¯¯çš„å®Œæ•´æ—¥å¿—

3. **æ‰‹åŠ¨æµ‹è¯•ç»“æœ**
   - è¿è¡Œæ‰‹åŠ¨æµ‹è¯•å‘½ä»¤çš„è¾“å‡º

4. **ç¯å¢ƒä¿¡æ¯**
   ```bash
   python --version
   pip show pycoingecko
   pip show pandas
   ```

5. **ç½‘ç»œæµ‹è¯•**
   ```bash
   ping coingecko.com
   curl https://api.coingecko.com/api/v3/ping
   ```

---

**ä½¿ç”¨æµ‹è¯•é¡µé¢å¯ä»¥å¿«é€Ÿå®šä½é—®é¢˜ï¼**
