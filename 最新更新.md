# 🎉 重大更新：支持任意股票和加密货币回测

## ✅ 已修复的问题

### 问题
- 之前只能从 8 只预设股票中选择
- 无法测试其他股票或加密货币
- 无法自定义输入

### 解决方案
✅ **完全重构了资产选择功能**

---

## 🚀 新功能

### 1. 资产类型选择
- 📈 **股票模式**：测试任意美股、港股、A股
- ₿ **加密货币模式**：测试任意加密货币

### 2. 双重输入方式

#### 快速选择
- 股票：14 只热门股票可快速选择
- 加密货币：8 种主流币可快速选择

#### 自定义输入
- **股票**：输入任意股票代码（如 `AAPL, BABA, TSM`）
- **加密货币**：输入任意 CoinGecko ID（如 `bitcoin, ethereum, solana`）

### 3. 混合使用
- 可以同时使用快速选择 + 自定义输入
- 系统自动去重
- 实时显示已选择的资产

### 4. 智能提示
- 显示当前选择的资产
- 如果未选择，自动使用默认值
- 提供输入格式提示

---

## 📋 使用方法

### 测试任意股票
1. 选择 "📈 Stock / 股票"
2. 在 "Custom Input" 输入：`AAPL, GOOGL, BABA, TSM`
3. 设置日期和策略
4. 点击 "Run Backtest"

### 测试任意加密货币
1. 选择 "₿ Crypto / 加密货币"
2. 在 "Custom Input" 输入：`bitcoin, ethereum, solana`
3. 设置日期和策略
4. 点击 "Run Backtest"

---

## 🎯 支持的资产

### 股票
- ✅ 美股：AAPL, GOOGL, MSFT, TSLA, NVDA...
- ✅ 中概股：BABA, JD, PDD, BIDU...
- ✅ 港股：0700.HK, 9988.HK...
- ✅ A股：600519.SS, 000001.SZ...

### 加密货币
- ✅ 主流币：bitcoin, ethereum, binancecoin
- ✅ DeFi：uniswap, aave, compound
- ✅ Layer1：solana, cardano, polkadot
- ✅ Meme币：dogecoin, shiba-inu

---

## 🔧 技术改进

1. **侧边栏重构**
   - 添加资产类型选择器
   - 添加快速选择 + 自定义输入
   - 实时显示选择结果

2. **数据获取增强**
   - 支持股票和加密货币双模式
   - 智能错误处理
   - 详细的错误提示

3. **用户体验优化**
   - 中英文双语提示
   - 输入格式说明
   - 实时验证和反馈

---

## 📖 详细文档

- 📘 **完整使用指南**：查看 `自定义回测指南.md`
- 📗 **更新说明**：查看 `更新说明.md`
- 📙 **项目文档**：查看 `使用指南.md`

---

## 🎓 使用示例

### 示例 1：测试科技股组合
```
资产类型：Stock
输入：AAPL, GOOGL, MSFT, NVDA, META
策略：Momentum Strategy
日期：2023-01-01 至 2024-01-01
```

### 示例 2：测试加密货币
```
资产类型：Crypto
输入：bitcoin, ethereum, solana
策略：Mean Reversion
日期：最近 6 个月
```

### 示例 3：测试中概股
```
资产类型：Stock
输入：BABA, JD, PDD, BIDU
策略：Value Strategy
日期：最近 1 年
```

---

## ⚠️ 重要提示

1. **股票代码**：使用正确的代码（AAPL 不是 Apple）
2. **加密货币 ID**：使用 CoinGecko ID（bitcoin 不是 BTC）
3. **网络连接**：需要稳定的网络获取数据
4. **日期范围**：建议至少 30 天以上

---

## 🚀 立即开始

1. 重新启动仪表板：`python run_dashboard.py`
2. 在左侧边栏选择资产类型
3. 输入你想测试的股票或加密货币
4. 运行回测，查看结果！

---

**现在你可以测试任何你想要的股票或加密货币了！🎉**
